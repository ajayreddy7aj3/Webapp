<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sambashiva Milk Agency â€“ Order Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    body {
      margin: 0;
      padding: 16px;
      background: #f4f5f7;
    }
    .container {
      max-width: 720px;
      margin: 0 auto;
      background: #fff;
      border-radius: 18px;
      padding: 18px 14px 22px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }
    h1 {
      text-align: center;
      font-size: 1.5rem;
      margin: 0;
    }
    .subtitle {
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      margin: 6px 0 16px;
    }
    .field {
      margin-bottom: 10px;
    }
    label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 4px;
      font-weight: 500;
    }
    input[type="text"],
    textarea {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #d0d7de;
      font-size: 0.9rem;
      outline: none;
      transition: border 0.15s ease, box-shadow 0.15s ease;
    }
    input[type="text"]:focus,
    textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 1px rgba(37,99,235,0.15);
    }
    textarea {
      resize: vertical;
      min-height: 60px;
    }

    h2 {
      font-size: 1.05rem;
      margin: 14px 0 8px;
      border-bottom: 1px solid #eee;
      padding-bottom: 4px;
    }

    .products {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .product-row {
      display: grid;
      grid-template-columns: minmax(0, 2.2fr) minmax(0, 1fr);
      gap: 6px;
      align-items: center;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid #e2e4e8;
      background: #fafbff;
    }
    .product-name {
      font-size: 0.9rem;
      font-weight: 500;
    }
    .product-unit {
      font-size: 0.8rem;
      color: #777;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 4px;
    }
    .qty-controls button {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: none;
      font-size: 1.1rem;
      line-height: 1;
      cursor: pointer;
      background: #e5edff;
      color: #1d4ed8;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .qty-controls input {
      width: 44px;
      text-align: center;
      padding: 4px;
      border-radius: 10px;
      border: 1px solid #d0d7de;
      font-size: 0.88rem;
    }

    .cart-summary {
      margin-top: 12px;
      padding: 10px 10px 12px;
      border-radius: 12px;
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      font-size: 0.88rem;
    }
    .cart-summary-title {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .cart-items {
      max-height: 160px;
      overflow-y: auto;
      margin-bottom: 6px;
    }
    .cart-item-row {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin: 2px 0;
    }
    .cart-item-name {
      flex: 1;
    }
    .cart-item-qty {
      white-space: nowrap;
      font-weight: 500;
    }
    .cart-total-line {
      display: flex;
      justify-content: space-between;
      margin-top: 4px;
      font-weight: 700;
      font-size: 0.9rem;
    }

    .btn-primary {
      width: 100%;
      margin-top: 14px;
      padding: 12px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #16a34a, #15803d);
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 20px rgba(22,163,74,0.35);
    }

    .footer {
      margin-top: 16px;
      text-align: center;
      font-size: 0.75rem;
      color: #888;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Sambashiva Milk Agency</h1>
    <div class="subtitle">Add items and send your order on WhatsApp â€“ Evening delivery ðŸšš</div>

    <!-- CUSTOMER DETAILS -->
    <div class="field"><label>Name</label><input id="customerName" type="text" /></div>
    <div class="field"><label>Address / Village</label><textarea id="customerAddress"></textarea></div>
    <div class="field"><label>Preferred delivery time</label><input id="deliveryTime" type="text" /></div>

    <h2>Products</h2>

    <div class="products" id="productsContainer">

      <!-- MILK (litres) -->

      <div class="product-row" data-id="TONED500">
        <div><div class="product-name">Toned Milk 500ml</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="STD500">
        <div><div class="product-name">Standardized Milk 500ml</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="FULL500">
        <div><div class="product-name">Full Cream Milk 500ml</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="SMALL110">
        <div><div class="product-name">Small Milk 110ml</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="FULL1000">
        <div><div class="product-name">Full Cream Milk 1000ml</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="STD1000">
        <div><div class="product-name">Standardized Milk 1000ml</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <!-- CURD (litres) -->

      <div class="product-row" data-id="SCURD110_AROKYA">
        <div><div class="product-name">Small Curd 110g (Arokya)</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="SCURD110_HATSUN">
        <div><div class="product-name">Small Curd 110g (Hatsun)</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="ACURD400">
        <div><div class="product-name">Arokya Curd 400g</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <div class="product-row" data-id="HCURD500">
        <div><div class="product-name">Hatsun Curd 500g</div><div class="product-unit">litre</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

      <!-- PANEER (packets) -->

      <div class="product-row" data-id="PANEER">
        <div><div class="product-name">Paneer</div><div class="product-unit">packet</div></div>
        <div class="qty-controls"><button>-</button><input type="number" value="0" /><button>+</button></div>
      </div>

    </div>

    <h2>Your Cart</h2>

    <div class="cart-summary">
      <div class="cart-items" id="cartItems"><div>No items yet.</div></div>
      <div class="cart-total-line"><span>Total items</span><span id="cartTotalItems">0</span></div>
    </div>

    <div class="field"><label>Notes</label><textarea id="extraNotes"></textarea></div>

    <button class="btn-primary" id="sendOrderBtn">Send Order on WhatsApp</button>

    <div class="footer">Sambashiva Milk Agency â€¢ Prop: K. Ajay Kumar Reddy â€¢ 7330892694</div>
  </div>

<script>
const WHATSAPP_NUMBER = "917330892694";

const productRows = document.querySelectorAll(".product-row");
const products = [];

productRows.forEach(row => {
  const id = row.dataset.id;
  const name = row.querySelector(".product-name").textContent.trim();
  const unit = row.querySelector(".product-unit").textContent.trim();
  const input = row.querySelector("input");
  const minus = row.querySelectorAll("button")[0];
  const plus = row.querySelectorAll("button")[1];

  const product = { id, name, unit, qty: 0, input };
  products.push(product);

  minus.onclick = () => {
    product.qty = Math.max(0, product.qty - 1);
    input.value = product.qty;
    updateCart();
  };
  plus.onclick = () => {
    product.qty = product.qty + 1;
    input.value = product.qty;
    updateCart();
  };
  input.onchange = () => {
    let v = parseInt(input.value);
    if (isNaN(v) || v < 0) v = 0;
    product.qty = v;
    input.value = v;
    updateCart();
  };
});

function updateCart() {
  const itemsDiv = document.getElementById("cartItems");
  itemsDiv.innerHTML = "";
  let totalItems = 0;

  products.forEach(p => {
    if (p.qty > 0) {
      const row = document.createElement("div");
      row.className = "cart-item-row";
      row.innerHTML = `<span>${p.name}</span><span>${p.qty} ${p.unit}${p.qty > 1 ? "s" : ""}</span>`;
      itemsDiv.appendChild(row);
      totalItems += p.qty;
    }
  });

  if (totalItems === 0) {
    itemsDiv.innerHTML = "<div>No items yet.</div>";
  }

  document.getElementById("cartTotalItems").textContent = totalItems;
}

function buildWhatsAppMessage() {
  const name = document.getElementById("customerName").value.trim();
  if (!name) return alert("Enter name");

  const addr = document.getElementById("customerAddress").value.trim();
  const time = document.getElementById("deliveryTime").value.trim();
  const notes = document.getElementById("extraNotes").value.trim();

  let msg = `*New Order â€“ Sambashiva Milk Agency*\n\n`;
  msg += `*Name:* ${name}\n`;
  if (addr) msg += `*Address:* ${addr}\n`;
  if (time) msg += `*Time:* ${time}\n`;
  msg += `\n*Items:*\n`;

  let totalItems = 0;

  products.forEach(p => {
    if (p.qty > 0) {
      msg += `â€¢ ${p.name} â€“ ${p.qty} ${p.unit}${p.qty > 1 ? "s" : ""}\n`;
      totalItems += p.qty;
    }
  });

  if (totalItems === 0) return alert("Add at least one item");

  msg += `\n*Total items:* ${totalItems}\n`;
  if (notes) msg += `\n*Notes:* ${notes}\n`;
  msg += `\n_Sent from online order form_`;

  return msg;
}

document.getElementById("sendOrderBtn").onclick = () => {
  const msg = buildWhatsAppMessage();
  if (!msg) return;
  window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`);
};
</script>

</body>
</html>
