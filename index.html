<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sambashiva Milk Agency ‚Äì Order Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }
    body {
      margin: 0;
      padding: 16px;
      background: #f4f5f7;
    }
    .container {
      max-width: 720px;
      margin: 0 auto;
      background: #fff;
      border-radius: 18px;
      padding: 18px 14px 22px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    }
    h1 {
      text-align: center;
      font-size: 1.5rem;
      margin: 0;
    }
    .subtitle {
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      margin: 6px 0 16px;
    }
    .field {
      margin-bottom: 10px;
    }
    label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 4px;
      font-weight: 500;
    }
    input[type="text"],
    textarea {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #d0d7de;
      font-size: 0.9rem;
      outline: none;
      transition: border 0.15s ease, box-shadow 0.15s ease;
    }
    input[type="text"]:focus,
    textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 1px rgba(37,99,235,0.15);
    }
    textarea {
      resize: vertical;
      min-height: 60px;
    }

    h2 {
      font-size: 1.05rem;
      margin: 14px 0 8px;
      border-bottom: 1px solid #eee;
      padding-bottom: 4px;
    }

    .products {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .product-row {
      display: grid;
      grid-template-columns: minmax(0, 2.2fr) minmax(0, 1fr);
      gap: 6px;
      align-items: center;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px solid #e2e4e8;
      background: #fafbff;
    }
    .product-name {
      font-size: 0.9rem;
      font-weight: 500;
    }
    .product-unit {
      font-size: 0.8rem;
      color: #777;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 4px;
    }
    .qty-controls button {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: none;
      font-size: 1.1rem;
      line-height: 1;
      cursor: pointer;
      background: #e5edff;
      color: #1d4ed8;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .qty-controls input {
      width: 44px;
      text-align: center;
      padding: 4px;
      border-radius: 10px;
      border: 1px solid #d0d7de;
      font-size: 0.88rem;
    }

    .cart-summary {
      margin-top: 12px;
      padding: 10px 10px 12px;
      border-radius: 12px;
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      font-size: 0.88rem;
    }
    .cart-summary-title {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .cart-items {
      max-height: 160px;
      overflow-y: auto;
      margin-bottom: 6px;
    }
    .cart-item-row {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin: 2px 0;
    }
    .cart-item-name {
      flex: 1;
    }
    .cart-item-qty {
      white-space: nowrap;
      font-weight: 500;
    }
    .cart-total-line {
      display: flex;
      justify-content: space-between;
      margin-top: 4px;
      font-weight: 700;
      font-size: 0.9rem;
    }

    .hint {
      font-size: 0.75rem;
      color: #777;
    }

    .btn-primary {
      width: 100%;
      margin-top: 14px;
      padding: 12px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg, #16a34a, #15803d);
      color: white;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 20px rgba(22,163,74,0.35);
      transition: transform 0.08s ease, box-shadow 0.08s ease;
    }
    .btn-primary:active {
      transform: translateY(1px);
      box-shadow: 0 5px 12px rgba(22,163,74,0.3);
    }

    .footer {
      margin-top: 16px;
      text-align: center;
      font-size: 0.75rem;
      color: #888;
    }

    @media (max-width: 520px) {
      .container {
        padding: 14px 12px 18px;
      }
      .product-row {
        grid-template-columns: minmax(0, 1.9fr) minmax(0, 1.1fr);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Sambashiva Milk Agency</h1>
    <div class="subtitle">Add items and send your order on WhatsApp ‚Äì Evening delivery üöö</div>

    <!-- Customer Info -->
    <div class="field">
      <label for="customerName">Name</label>
      <input id="customerName" type="text" placeholder="Your full name" />
    </div>
    <div class="field">
      <label for="customerAddress">Address / Village</label>
      <textarea id="customerAddress" placeholder="House no, street, area, village"></textarea>
    </div>
    <div class="field">
      <label for="deliveryTime">Preferred delivery time (evening)</label>
      <input id="deliveryTime" type="text" placeholder="Example: 6:30 PM ‚Äì 8:00 PM" />
    </div>

    <!-- Products -->
    <h2>Products</h2>
    <div class="hint" style="margin-bottom:6px;">Tap + / ‚Äì to change quantity.</div>

    <div class="products" id="productsContainer">
      <!-- 1. Toned Milk 500ml -->
      <div class="product-row" data-id="TONED500">
        <div>
          <div class="product-name">Toned Milk 500ml</div>
          <div class="product-unit">packet</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 2. Standardized Milk 500ml -->
      <div class="product-row" data-id="STD500">
        <div>
          <div class="product-name">Standardized Milk 500ml</div>
          <div class="product-unit">packet</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 3. Full cream Milk 500ml -->
      <div class="product-row" data-id="FULL500">
        <div>
          <div class="product-name">Full Cream Milk 500ml</div>
          <div class="product-unit">packet</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 4. Small Milk 110ml -->
      <div class="product-row" data-id="SMALL110">
        <div>
          <div class="product-name">Small Milk 110ml</div>
          <div class="product-unit">packet</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 5. Small curd 110 (Arokya) -->
      <div class="product-row" data-id="SCURD110_AROKYA">
        <div>
          <div class="product-name">Small Curd 110g (Arokya)</div>
          <div class="product-unit">cup</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 6. Small curd (Hatsun) -->
      <div class="product-row" data-id="SCURD110_HATSUN">
        <div>
          <div class="product-name">Small Curd 110g (Hatsun)</div>
          <div class="product-unit">cup</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 7. Arokya Curd 400g -->
      <div class="product-row" data-id="ACURD400">
        <div>
          <div class="product-name">Arokya Curd 400g</div>
          <div class="product-unit">cup</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 8. Hatsun Curd 500g -->
      <div class="product-row" data-id="HCURD500">
        <div>
          <div class="product-name">Hatsun Curd 500g</div>
          <div class="product-unit">cup</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 9. Full Cream Milk 1000ml -->
      <div class="product-row" data-id="FULL1000">
        <div>
          <div class="product-name">Full Cream Milk 1000ml</div>
          <div class="product-unit">packet</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 10. Standardized Milk 1000ml -->
      <div class="product-row" data-id="STD1000">
        <div>
          <div class="product-name">Standardized Milk 1000ml</div>
          <div class="product-unit">packet</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>

      <!-- 11. Paneer -->
      <div class="product-row" data-id="PANEER">
        <div>
          <div class="product-name">Paneer</div>
          <div class="product-unit">pack</div>
        </div>
        <div class="qty-controls">
          <button type="button" class="btn-minus">‚Äì</button>
          <input type="number" min="0" step="1" value="0" class="qty-input" />
          <button type="button" class="btn-plus">+</button>
        </div>
      </div>
    </div>

    <!-- Cart Summary -->
    <div class="cart-summary">
      <div class="cart-summary-title">Your Cart</div>
      <div class="cart-items" id="cartItems">
        <div class="hint">No items yet. Add from above.</div>
      </div>
      <div class="cart-total-line">
        <span>Total items</span>
        <span id="cartTotalItems">0</span>
      </div>
    </div>

    <!-- Extra Notes -->
    <div class="field" style="margin-top:12px;">
      <label for="extraNotes">Extra notes (optional)</label>
      <textarea id="extraNotes" placeholder="Example: More thick curd, call me when you reach, etc."></textarea>
    </div>

    <!-- WhatsApp Button -->
    <button class="btn-primary" id="sendOrderBtn">
      Send Order on WhatsApp
    </button>
    <div class="hint" style="text-align:center;margin-top:4px;">
      WhatsApp will open with order details. Please press ‚ÄúSend‚Äù there.
    </div>

    <div class="footer">
      Sambashiva Milk Agency ‚Ä¢ Prop: K. Ajay Kumar Reddy ‚Ä¢ 7330892694
    </div>
  </div>

  <script>
    // Your WhatsApp number (with country code, no + sign)
    const WHATSAPP_NUMBER = "917330892694";

    // Read all product rows and keep data in JS
    const productRows = document.querySelectorAll(".product-row");
    const products = []; // {id, name, unit, qty}

    productRows.forEach(function (row) {
      const id = row.getAttribute("data-id");
      const name = row.querySelector(".product-name").textContent.trim();
      const unit = row.querySelector(".product-unit").textContent.trim();
      const input = row.querySelector(".qty-input");
      const minusBtn = row.querySelector(".btn-minus");
      const plusBtn = row.querySelector(".btn-plus");

      const product = { id, name, unit, qty: 0, input };
      products.push(product);

      minusBtn.addEventListener("click", function () {
        let val = parseInt(product.input.value || "0", 10);
        if (isNaN(val)) val = 0;
        val = Math.max(0, val - 1);
        product.qty = val;
        product.input.value = val;
        updateCart();
      });

      plusBtn.addEventListener("click", function () {
        let val = parseInt(product.input.value || "0", 10);
        if (isNaN(val)) val = 0;
        val = val + 1;
        product.qty = val;
        product.input.value = val;
        updateCart();
      });

      input.addEventListener("change", function () {
        let val = parseInt(product.input.value || "0", 10);
        if (isNaN(val) || val < 0) val = 0;
        product.qty = val;
        product.input.value = val;
        updateCart();
      });
    });

    function updateCart() {
      const cartItemsDiv = document.getElementById("cartItems");
      cartItemsDiv.innerHTML = "";

      let totalItems = 0;
      let anyItem = false;

      products.forEach(function (p) {
        if (p.qty > 0) {
          anyItem = true;
          totalItems += p.qty;

          const row = document.createElement("div");
          row.className = "cart-item-row";

          const nameSpan = document.createElement("span");
          nameSpan.className = "cart-item-name";
          nameSpan.textContent = p.name;

          const qtySpan = document.createElement("span");
          qtySpan.className = "cart-item-qty";
          qtySpan.textContent = p.qty + " " + p.unit + (p.qty > 1 ? "s" : "");

          row.appendChild(nameSpan);
          row.appendChild(qtySpan);
          cartItemsDiv.appendChild(row);
        }
      });

      if (!anyItem) {
        const empty = document.createElement("div");
        empty.className = "hint";
        empty.textContent = "No items yet. Add from above.";
        cartItemsDiv.appendChild(empty);
      }

      document.getElementById("cartTotalItems").textContent = totalItems;
    }

    function buildWhatsAppMessage() {
      const name = document.getElementById("customerName").value.trim();
      const address = document.getElementById("customerAddress").value.trim();
      const deliveryTime = document.getElementById("deliveryTime").value.trim();
      const notes = document.getElementById("extraNotes").value.trim();

      if (!name) {
        alert("Please enter your name.");
        return null;
      }

      let lines = [];
      lines.push("*New Order ‚Äì Sambashiva Milk Agency*");
      lines.push("");
      lines.push("*Name:* " + name);
      if (address) lines.push("*Address:* " + address);
      if (deliveryTime) lines.push("*Preferred time:* " + deliveryTime);
      lines.push("");
      lines.push("*Items:*");

      let anyItem = false;
      let totalItems = 0;

      products.forEach(function (p) {
        if (p.qty > 0) {
          anyItem = true;
          totalItems += p.qty;
          lines.push("- " + p.name + " ‚Äì " + p.qty + " " + p.unit + (p.qty > 1 ? "s" : ""));
        }
      });

      if (!anyItem) {
        alert("Please add at least one item.");
        return null;
      }

      lines.push("");
      lines.push("*Total items:* " + totalItems);

      if (notes) {
        lines.push("");
        lines.push("*Notes:* " + notes);
      }

      lines.push("");
      lines.push("_Sent from online order form_");

      return lines.join("\n");
    }

    document.getElementById("sendOrderBtn").addEventListener("click", function () {
      const msg = buildWhatsAppMessage();
      if (!msg) return;

      const encoded = encodeURIComponent(msg);
      const url = "https://wa.me/" + WHATSAPP_NUMBER + "?text=" + encoded;
      window.open(url, "_blank");
    });

    // Initial cart state
    updateCart();
  </script>
</body>
</html>
